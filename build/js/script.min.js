"use strict";
var FormStyler = function (e) {
    var l = this;
    this.selectors = document.querySelectorAll(e.selectors), this.countItems = e.countItems, this.init = function () {
        for (var e in l.selectors) if (l.selectors.hasOwnProperty(e)) {
            l.selectors[e].style.display = "none";
            var t, s = "", i = "", r = l.selectors[e].querySelectorAll("option");
            for (t in r) r.hasOwnProperty(t) && ("0" === t && (i = r[t].innerText), s += '<li data-id="' + r[t].value + '">' + r[t].innerText + "</li>");
            l.selectors[e].insertAdjacentHTML("afterend", '<div class="swf-list"><div class="title">' + i + '</div><div class="list-wrapper"><ul>' + s + "</ul></div></div>")
        }
        l.clickOnTitle(), l.selectOption(), l.closeOnBody()
    }, this.changeHeight = function (e) {
        for (var t in l.selectors) {
            var s, i;
            l.selectors.hasOwnProperty(t) && (s = l.selectors[t].nextSibling.querySelector(".list-wrapper ul li"), e < l.selectors[t].nextSibling.querySelectorAll(".list-wrapper ul li").length && ((i = l.selectors[t].nextSibling.querySelector(".list-wrapper ul")).style.maxHeight = e * s.offsetHeight + "px", i.style.overflowY = "scroll"), l.selectors[t].nextSibling.querySelector(".list-wrapper").style.top = s.offsetHeight + "px")
        }
    }, this.clickOnTitle = function () {
        var e, s = this;
        for (e in this.selectors) !function (t) {
            s.selectors.hasOwnProperty(t) && s.selectors[t].nextSibling.querySelector(".title").addEventListener("click", function (e) {
                e.stopPropagation(), s.selectors[t].nextSibling.classList.toggle("opened"), s.changeHeight(s.countItems)
            })
        }(e)
    }, this.selectOption = function () {
        var t, l = this;
        for (t in this.selectors) this.selectors.hasOwnProperty(t) && function () {
            var e, s = l.selectors[t].nextSibling.querySelector(".title"),
                i = l.selectors[t].nextSibling.querySelectorAll(".list-wrapper ul li"), r = l.selectors[t];
            for (e in i) !function (t) {
                i.hasOwnProperty(t) && i[t].addEventListener("click", function (e) {
                    e.stopPropagation();
                    e = i[t].getAttribute("data-id");
                    s.innerText = i[t].innerText, r.value = e, r.nextSibling.classList.remove("opened")
                })
            }(e)
        }()
    }, this.closeOnBody = function () {
        var e, t = this, s = document.querySelector("body");
        for (e in this.selectors) !function (e) {
            t.selectors.hasOwnProperty(e) && s.addEventListener("click", function () {
                t.selectors[e].nextSibling.classList.remove("opened")
            })
        }(e)
    }
};
//# sourceMappingURL=script.min.js.map
