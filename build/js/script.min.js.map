{"version":3,"sources":["script.js"],"names":["FormStyler","options","this","selectors","document","querySelectorAll","countItems","init","value","selector","querySelector","prototype","$selector","hasOwnProperty","style","display","$option","$lists","$title","$options","innerText","insertAdjacentHTML","clickOnTitle","selectOption","closeOnBody","changeHeight","$element","$newSelect","$listItem","nextSibling","length","maxHeight","offsetHeight","overflowY","top","addEventListener","event","stopPropagation","target","closest","classList","toggle","_this","$li","$select","id","getAttribute","remove","_loop","$body","i","$selects"],"mappings":"aAAA,IAAMA,WAAa,SAAUC,GACzBC,KAAKC,UAAYC,SAASC,iBAAiBJ,EAAQE,WACnDD,KAAKI,WAAaL,EAAQK,WAC1BJ,KAAKK,OAELL,KAAKM,MAAQ,SAAUC,GACnB,OAAOL,SAASM,cAAcD,GAAUD,QAIhDR,WAAWW,UAAUJ,KAAO,WACxB,IAAK,IAAIK,KAAaV,KAAKC,UACvB,GAAID,KAAKC,UAAUU,eAAeD,GAAY,CAC1CV,KAAKC,UAAUS,GAAWE,MAAMC,QAAU,OAC1C,IAGSC,EAHLC,EAAS,GACTC,EAAS,GACTC,EAAWjB,KAAKC,UAAUS,GAAWP,iBAAiB,UAC1D,IAASW,KAAWG,EACZA,EAASN,eAAeG,KACR,MAAZA,IACAE,EAASC,EAASH,GAASI,WAE/BH,GAAU,gBAAkBE,EAASH,GAASR,MAAQ,KAAOW,EAASH,GAASI,UAAY,SAGnGlB,KAAKC,UAAUS,GAAWS,mBAAmB,WAAY,4CAC7BH,EAAS,uCAExBD,EAAS,qBAK9Bf,KAAKoB,eACLpB,KAAKqB,eACLrB,KAAKsB,eAGTxB,WAAWW,UAAUc,aAAe,SAAUnB,EAAYoB,GACtD,IAGQC,EAHJC,EAAYF,EAASG,YAAYnB,cAAc,uBAE7BJ,EADAoB,EAASG,YAAYxB,iBAAiB,uBAAuByB,UAE3EH,EAAaD,EAASG,YAAYnB,cAAc,qBACzCI,MAAMiB,UAAYzB,EAAasB,EAAUI,aAAe,KACnEL,EAAWb,MAAMmB,UAAY,UAEjCP,EAASG,YAAYf,MAAMoB,IAAMN,EAAUI,aAAe,MAG9DhC,WAAWW,UAAUW,aAAe,WAChC,IACSV,EADLN,EAAaJ,KAAKI,WACtB,IAASM,KAAaV,KAAKC,UACnBD,KAAKC,UAAUU,eAAeD,IACjBV,KAAKC,UAAUS,GAAWiB,YAAYnB,cAAc,UAC1DyB,iBAAiB,QAAU,SAAUC,GACxCA,EAAMC,kBACND,EAAME,OAAOC,QAAQ,aAAaC,UAAUC,OAAO,UACnDzC,WAAWW,UAAUc,aAAanB,EAAY8B,EAAME,WAMpEtC,WAAWW,UAAUY,aAAe,WAAY,IACnCX,EADmC8B,EAAAxC,KAC5C,IAASU,KAAaV,KAAKC,UACnBD,KAAKC,UAAUU,eAAeD,IAAY,WAC1C,IAGS+B,EAHLzB,EAASwB,EAAKvC,UAAUS,GAAWiB,YAAYnB,cAAc,UAC7DO,EAASyB,EAAKvC,UAAUS,GAAWiB,YAAYxB,iBAAiB,uBAChEuC,EAAUF,EAAKvC,UAAUS,GAC7B,IAAS+B,KAAO1B,GAJ0B,SAIjC0B,GACD1B,EAAOJ,eAAe8B,IACtB1B,EAAO0B,GAAKR,iBAAiB,QAAU,SAAUC,GAC7CA,EAAMC,kBACFQ,EAAK5B,EAAO0B,GAAKG,aAAa,WAClC5B,EAAOE,UAAYH,EAAO0B,GAAKvB,UAC/BwB,EAAQpC,MAAQqC,EAChBD,EAAQf,YAAYW,UAAUO,OAAO,YAPzBC,CAAfL,GAJiC,IAmBtD3C,WAAWW,UAAUa,YAAc,WAC/B,IACSZ,EADLqC,EAAQ7C,SAASM,cAAc,QACnC,IAASE,KAAaV,KAAKC,UACnBD,KAAKC,UAAUU,eAAeD,IAC9BqC,EAAMd,iBAAiB,QAAU,SAAUC,GACvC,IACSc,EADLC,EAAWf,EAAME,OAAOjC,iBAAiB,aAC7C,IAAS6C,KAAKC,EACNA,EAAStC,eAAeqC,IACxBC,EAASD,GAAGV,UAAUO,OAAO","file":"script.min.js","sourcesContent":["const FormStyler = function (options) {\n    this.selectors = document.querySelectorAll(options.selectors);\n    this.countItems = options.countItems;\n    this.init();\n\n    this.value = function (selector) {\n        return document.querySelector(selector).value;\n    }\n}\n\nFormStyler.prototype.init = function () {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            this.selectors[$selector].style.display = 'none';\n            let $lists = '';\n            let $title = '';\n            let $options = this.selectors[$selector].querySelectorAll('option');\n            for (let $option in $options) {\n                if ($options.hasOwnProperty($option)) {\n                    if ($option === '0') {\n                        $title = $options[$option].innerText;\n                    }\n                    $lists += '<li data-id=\"' + $options[$option].value + '\">' + $options[$option].innerText + '</li>';\n                }\n            }\n            this.selectors[$selector].insertAdjacentHTML('afterend', '<div class=\"swf-list\">' +\n                '<div class=\"title\">' + $title + '</div>' +\n                '<div class=\"list-wrapper\">' +\n                '<ul>' + $lists + '</ul>' +\n                '</div>' +\n                '</div>');\n        }\n    }\n    this.clickOnTitle();\n    this.selectOption();\n    this.closeOnBody();\n}\n\nFormStyler.prototype.changeHeight = function (countItems, $element) {\n    let $listItem = $element.nextSibling.querySelector('.list-wrapper ul li');\n    let listItemsCounts = $element.nextSibling.querySelectorAll('.list-wrapper ul li').length;\n    if (listItemsCounts > countItems) {\n        let $newSelect = $element.nextSibling.querySelector('.list-wrapper ul');\n        $newSelect.style.maxHeight = countItems * $listItem.offsetHeight + 'px';\n        $newSelect.style.overflowY = 'scroll';\n    }\n    $element.nextSibling.style.top = $listItem.offsetHeight + 'px';\n}\n\nFormStyler.prototype.clickOnTitle = function () {\n    let countItems = this.countItems;\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n            $title.addEventListener('click',  function (event) {\n                event.stopPropagation();\n                event.target.closest('.swf-list').classList.toggle('opened');\n                FormStyler.prototype.changeHeight(countItems, event.target);\n            });\n        }\n    }\n}\n\nFormStyler.prototype.selectOption = function () {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n            let $lists = this.selectors[$selector].nextSibling.querySelectorAll('.list-wrapper ul li');\n            let $select = this.selectors[$selector];\n            for (let $li in $lists) {\n                if ($lists.hasOwnProperty($li)) {\n                    $lists[$li].addEventListener('click',  function (event) {\n                        event.stopPropagation();\n                        let id = $lists[$li].getAttribute('data-id');\n                        $title.innerText = $lists[$li].innerText;\n                        $select.value = id;\n                        $select.nextSibling.classList.remove('opened');\n                    });\n                }\n            }\n        }\n    }\n}\n\nFormStyler.prototype.closeOnBody = function () {\n    let $body = document.querySelector('body');\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            $body.addEventListener('click',  function (event) {\n                let $selects = event.target.querySelectorAll('.swf-list');\n                for (let i in $selects) {\n                    if ($selects.hasOwnProperty(i)) {\n                        $selects[i].classList.remove('opened');\n                    }\n                }\n            });\n        }\n    }\n}\n"]}