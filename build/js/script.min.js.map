{"version":3,"sources":["script.js"],"names":["FormStyler","options","this","selector","document","querySelector","countItems","init","style","display","option","lists","title","querySelectorAll","hasOwnProperty","innerText","value","insertAdjacentHTML","clickOnTitle","selectOption","closeOnBody","changeHeight","newSelect","listItem","nextSibling","length","maxHeight","offsetHeight","overflowY","_this","addEventListener","event","stopPropagation","classList","toggle","li","select","id","getAttribute","remove","_loop","_this2"],"mappings":"aAAA,IAAMA,WAAa,SAASC,GAExBC,KAAKC,SAAWC,SAASC,cAAcJ,EAAQE,UAC/CD,KAAKI,WAAaL,EAAQK,WAE1BJ,KAAKK,KAAO,WACRL,KAAKC,SAASK,MAAMC,QAAU,OAC9B,IAGSC,EAHLC,EAAQ,GACRC,EAAQ,GACRX,EAAUC,KAAKC,SAASU,iBAAiB,UAC7C,IAASH,KAAUT,EACXA,EAAQa,eAAeJ,KACR,MAAXA,IACAE,EAAQX,EAAQS,GAAQK,WAE5BJ,GAAS,gBAAkBV,EAAQS,GAAQM,MAAQ,KAAOf,EAAQS,GAAQK,UAAY,SAG9Fb,KAAKC,SAASc,mBAAmB,WAAY,4CACjBL,EAAQ,uCAEfD,EAAQ,qBAG7BT,KAAKgB,eACLhB,KAAKiB,eACLjB,KAAKkB,eAGTlB,KAAKmB,aAAe,SAAUf,GAC1B,IAGQgB,EAHJC,EAAWrB,KAAKC,SAASqB,YAAYnB,cAAc,uBAEjCC,EADAJ,KAAKC,SAASqB,YAAYX,iBAAiB,uBAAuBY,UAEhFH,EAAYpB,KAAKC,SAASqB,YAAYnB,cAAc,qBAC9CG,MAAMkB,UAAYpB,EAAaiB,EAASI,aAAe,KACjEL,EAAUd,MAAMoB,UAAY,WAIpC1B,KAAKgB,aAAe,WAAY,IAAAW,EAAA3B,KAChBA,KAAKC,SAASqB,YAAYnB,cAAc,UAC9CyB,iBAAiB,QAAU,SAACC,GAC9BA,EAAMC,kBACNH,EAAK1B,SAASqB,YAAYS,UAAUC,OAAO,UAC3CL,EAAKR,aAAaQ,EAAKvB,eAI/BJ,KAAKiB,aAAe,WAChB,IAGSgB,EAHLvB,EAAQV,KAAKC,SAASqB,YAAYnB,cAAc,UAChDM,EAAQT,KAAKC,SAASqB,YAAYX,iBAAiB,uBACnDuB,EAASlC,KAAKC,SAClB,IAASgC,KAAMxB,GAJa,SAInBwB,GACDxB,EAAMG,eAAeqB,IACrBxB,EAAMwB,GAAIL,iBAAiB,QAAU,WACjC,IAAIO,EAAK1B,EAAMwB,GAAIG,aAAa,WAChC1B,EAAMG,UAAYJ,EAAMwB,GAAIpB,UAC5BqB,EAAOpB,MAAQqB,EACfD,EAAOZ,YAAYS,UAAUM,OAAO,YAN1BC,CAAbL,IAYbjC,KAAKkB,YAAc,WAAY,IAAAqB,EAAAvC,KAChBE,SAASC,cAAc,QAC7ByB,iBAAiB,QAAU,WAC5BW,EAAKtC,SAASqB,YAAYS,UAAUM,OAAO","file":"script.min.js","sourcesContent":["const FormStyler = function(options) {\n\n    this.selector = document.querySelector(options.selector);\n    this.countItems = options.countItems;\n\n    this.init = function () {\n        this.selector.style.display = 'none';\n        let lists = '';\n        let title = '';\n        let options = this.selector.querySelectorAll('option');\n        for (let option in options) {\n            if (options.hasOwnProperty(option)) {\n                if (option === '0') {\n                    title = options[option].innerText;\n                }\n                lists += '<li data-id=\"' + options[option].value + '\">' + options[option].innerText + '</li>';\n            }\n        }\n        this.selector.insertAdjacentHTML('afterend', '<div class=\"swf-list\">' +\n            '<div class=\"title\">' + title + '</div>' +\n                '<div class=\"list-wrapper\">' +\n                    '<ul>' + lists + '</ul>' +\n                '</div>' +\n            '</div>');\n        this.clickOnTitle();\n        this.selectOption();\n        this.closeOnBody();\n    }\n\n    this.changeHeight = function (countItems) {\n        let listItem = this.selector.nextSibling.querySelector('.list-wrapper ul li');\n        let listItemsCounts = this.selector.nextSibling.querySelectorAll('.list-wrapper ul li').length;\n        if (listItemsCounts > countItems) {\n            let newSelect = this.selector.nextSibling.querySelector('.list-wrapper ul');\n            newSelect.style.maxHeight = countItems * listItem.offsetHeight + 'px';\n            newSelect.style.overflowY = 'scroll';\n        }\n    }\n\n    this.clickOnTitle = function () {\n        let title = this.selector.nextSibling.querySelector('.title');\n        title.addEventListener('click',  (event) => {\n            event.stopPropagation();\n            this.selector.nextSibling.classList.toggle('opened');\n            this.changeHeight(this.countItems);\n        });\n    }\n\n    this.selectOption = function () {\n        let title = this.selector.nextSibling.querySelector('.title');\n        let lists = this.selector.nextSibling.querySelectorAll('.list-wrapper ul li');\n        let select = this.selector;\n        for (let li in lists) {\n            if (lists.hasOwnProperty(li)) {\n                lists[li].addEventListener('click',  function () {\n                    let id = lists[li].getAttribute('data-id');\n                    title.innerText = lists[li].innerText;\n                    select.value = id;\n                    select.nextSibling.classList.remove('opened');\n                });\n            }\n        }\n    }\n\n    this.closeOnBody = function () {\n        let body = document.querySelector('body');\n        body.addEventListener('click',  () => {\n            this.selector.nextSibling.classList.remove('opened');\n        });\n    }\n}\n"]}