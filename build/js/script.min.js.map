{"version":3,"sources":["script.js"],"names":["FormStyler","options","this","selectors","document","querySelectorAll","countItems","init","prototype","$selectors","$selector","hasOwnProperty","style","display","$option","$lists","$title","$options","innerText","value","insertAdjacentHTML","clickOnTitle","selectOption","closeOnBody","changeHeight","$listItem","$newSelect","nextSibling","querySelector","length","maxHeight","offsetHeight","overflowY","top","_this","addEventListener","event","stopPropagation","classList","toggle","_loop","_this2","$li","$select","id","getAttribute","remove","_loop2","_this3","$body","_loop3"],"mappings":"aAAA,IAAMA,WAAa,SAASC,GACxBC,KAAKC,UAAYC,SAASC,iBAAiBJ,EAAQE,WACnDD,KAAKI,WAAaL,EAAQK,WAC1BJ,KAAKK,KAAKL,KAAKC,YAGnBH,WAAWQ,UAAUD,KAAO,SAASE,GACjC,IAAK,IAAIC,KAAaD,EAClB,GAAIA,EAAWE,eAAeD,GAAY,CACtCD,EAAWC,GAAWE,MAAMC,QAAU,OACtC,IAGSC,EAHLC,EAAS,GACTC,EAAS,GACTC,EAAWR,EAAWC,GAAWL,iBAAiB,UACtD,IAASS,KAAWG,EACZA,EAASN,eAAeG,KACR,MAAZA,IACAE,EAASC,EAASH,GAASI,WAE/BH,GAAU,gBAAkBE,EAASH,GAASK,MAAQ,KAAOF,EAASH,GAASI,UAAY,SAGnGT,EAAWC,GAAWU,mBAAmB,WAAY,4CACzBJ,EAAS,uCAExBD,EAAS,qBAK9Bb,KAAKmB,eACLnB,KAAKoB,eACLpB,KAAKqB,eAGTvB,WAAWQ,UAAUgB,aAAe,SAASlB,GACzC,IAAK,IAAII,KAAaR,KAAKC,UAAW,CAClC,IACQsB,EAGIC,EAJRxB,KAAKC,UAAUQ,eAAeD,KAC1Be,EAAYvB,KAAKC,UAAUO,GAAWiB,YAAYC,cAAc,uBAE9CtB,EADAJ,KAAKC,UAAUO,GAAWiB,YAAYtB,iBAAiB,uBAAuBwB,UAE5FH,EAAaxB,KAAKC,UAAUO,GAAWiB,YAAYC,cAAc,qBAC1DhB,MAAMkB,UAAYxB,EAAamB,EAAUM,aAAe,KACnEL,EAAWd,MAAMoB,UAAY,UAEjC9B,KAAKC,UAAUO,GAAWiB,YAAYC,cAAc,iBAAiBhB,MAAMqB,IAAMR,EAAUM,aAAe,QAKtH/B,WAAWQ,UAAUa,aAAe,WAAW,IAClCX,EADkCwB,EAAAhC,KAC3C,IAASQ,KAAaR,KAAKC,WADgB,SAClCO,GACDwB,EAAK/B,UAAUQ,eAAeD,IACjBwB,EAAK/B,UAAUO,GAAWiB,YAAYC,cAAc,UAC1DO,iBAAiB,QAAU,SAACC,GAC/BA,EAAMC,kBACNH,EAAK/B,UAAUO,GAAWiB,YAAYW,UAAUC,OAAO,UACvDL,EAAKV,aAAaU,EAAK5B,cANGkC,CAA7B9B,IAYbV,WAAWQ,UAAUc,aAAe,WAAW,IAClCZ,EADkC+B,EAAAvC,KAC3C,IAASQ,KAAaR,KAAKC,UACnBD,KAAKC,UAAUQ,eAAeD,IAAY,WAC1C,IAGSgC,EAHL1B,EAASyB,EAAKtC,UAAUO,GAAWiB,YAAYC,cAAc,UAC7Db,EAAS0B,EAAKtC,UAAUO,GAAWiB,YAAYtB,iBAAiB,uBAChEsC,EAAUF,EAAKtC,UAAUO,GAC7B,IAASgC,KAAO3B,GAJ0B,SAIjC2B,GACD3B,EAAOJ,eAAe+B,IACtB3B,EAAO2B,GAAKP,iBAAiB,QAAU,SAAUC,GAC7CA,EAAMC,kBACFO,EAAK7B,EAAO2B,GAAKG,aAAa,WAClC7B,EAAOE,UAAYH,EAAO2B,GAAKxB,UAC/ByB,EAAQxB,MAAQyB,EAChBD,EAAQhB,YAAYW,UAAUQ,OAAO,YAPzBC,CAAfL,GAJiC,IAmBtD1C,WAAWQ,UAAUe,YAAc,WAAW,IAEjCb,EAFiCsC,EAAA9C,KACtC+C,EAAQ7C,SAASwB,cAAc,QACnC,IAASlB,KAAaR,KAAKC,WAFe,SAEjCO,GACDsC,EAAK7C,UAAUQ,eAAeD,IAC9BuC,EAAMd,iBAAiB,QAAU,WAC7Ba,EAAK7C,UAAUO,GAAWiB,YAAYW,UAAUQ,OAAO,YAH7BI,CAA7BxC","file":"script.min.js","sourcesContent":["const FormStyler = function(options) {\n    this.selectors = document.querySelectorAll(options.selectors);\n    this.countItems = options.countItems;\n    this.init(this.selectors);\n}\n\nFormStyler.prototype.init = function($selectors) {\n    for (let $selector in $selectors) {\n        if ($selectors.hasOwnProperty($selector)) {\n            $selectors[$selector].style.display = 'none';\n            let $lists = '';\n            let $title = '';\n            let $options = $selectors[$selector].querySelectorAll('option');\n            for (let $option in $options) {\n                if ($options.hasOwnProperty($option)) {\n                    if ($option === '0') {\n                        $title = $options[$option].innerText;\n                    }\n                    $lists += '<li data-id=\"' + $options[$option].value + '\">' + $options[$option].innerText + '</li>';\n                }\n            }\n            $selectors[$selector].insertAdjacentHTML('afterend', '<div class=\"swf-list\">' +\n                '<div class=\"title\">' + $title + '</div>' +\n                '<div class=\"list-wrapper\">' +\n                '<ul>' + $lists + '</ul>' +\n                '</div>' +\n                '</div>');\n        }\n    }\n    this.clickOnTitle();\n    this.selectOption();\n    this.closeOnBody();\n}\n\nFormStyler.prototype.changeHeight = function(countItems) {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $listItem = this.selectors[$selector].nextSibling.querySelector('.list-wrapper ul li');\n            let listItemsCounts = this.selectors[$selector].nextSibling.querySelectorAll('.list-wrapper ul li').length;\n            if (listItemsCounts > countItems) {\n                let $newSelect = this.selectors[$selector].nextSibling.querySelector('.list-wrapper ul');\n                $newSelect.style.maxHeight = countItems * $listItem.offsetHeight + 'px';\n                $newSelect.style.overflowY = 'scroll';\n            }\n            this.selectors[$selector].nextSibling.querySelector('.list-wrapper').style.top = $listItem.offsetHeight + 'px';\n        }\n    }\n}\n\nFormStyler.prototype.clickOnTitle = function() {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n            $title.addEventListener('click',  (event) => {\n                event.stopPropagation();\n                this.selectors[$selector].nextSibling.classList.toggle('opened');\n                this.changeHeight(this.countItems);\n            });\n        }\n    }\n}\n\nFormStyler.prototype.selectOption = function() {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n            let $lists = this.selectors[$selector].nextSibling.querySelectorAll('.list-wrapper ul li');\n            let $select = this.selectors[$selector];\n            for (let $li in $lists) {\n                if ($lists.hasOwnProperty($li)) {\n                    $lists[$li].addEventListener('click',  function (event) {\n                        event.stopPropagation();\n                        let id = $lists[$li].getAttribute('data-id');\n                        $title.innerText = $lists[$li].innerText;\n                        $select.value = id;\n                        $select.nextSibling.classList.remove('opened');\n                    });\n                }\n            }\n        }\n    }\n}\n\nFormStyler.prototype.closeOnBody = function() {\n    let $body = document.querySelector('body');\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            $body.addEventListener('click',  () => {\n                this.selectors[$selector].nextSibling.classList.remove('opened');\n            });\n        }\n    }\n}\n"]}