{"version":3,"sources":["script.js"],"names":["FormStyler","options","this","selectors","document","querySelectorAll","countItems","init","prototype","$selector","hasOwnProperty","style","display","$option","$lists","$title","$options","innerText","value","insertAdjacentHTML","clickOnTitle","selectOption","closeOnBody","changeHeight","$element","$newSelect","$listItem","nextSibling","querySelector","length","maxHeight","offsetHeight","overflowY","top","addEventListener","event","stopPropagation","target","closest","classList","toggle","_this","$li","$select","id","getAttribute","remove","_loop","$body","i","$selects"],"mappings":"aAAA,IAAMA,WAAa,SAASC,GACxBC,KAAKC,UAAYC,SAASC,iBAAiBJ,EAAQE,WACnDD,KAAKI,WAAaL,EAAQK,WAC1BJ,KAAKK,QAGTP,WAAWQ,UAAUD,KAAO,WACxB,IAAK,IAAIE,KAAaP,KAAKC,UACvB,GAAID,KAAKC,UAAUO,eAAeD,GAAY,CAC1CP,KAAKC,UAAUM,GAAWE,MAAMC,QAAU,OAC1C,IAGSC,EAHLC,EAAS,GACTC,EAAS,GACTC,EAAWd,KAAKC,UAAUM,GAAWJ,iBAAiB,UAC1D,IAASQ,KAAWG,EACZA,EAASN,eAAeG,KACR,MAAZA,IACAE,EAASC,EAASH,GAASI,WAE/BH,GAAU,gBAAkBE,EAASH,GAASK,MAAQ,KAAOF,EAASH,GAASI,UAAY,SAGnGf,KAAKC,UAAUM,GAAWU,mBAAmB,WAAY,4CAC7BJ,EAAS,uCAExBD,EAAS,qBAK9BZ,KAAKkB,eACLlB,KAAKmB,eACLnB,KAAKoB,eAGTtB,WAAWQ,UAAUe,aAAe,SAASjB,EAAYkB,GACrD,IAGQC,EAHJC,EAAYF,EAASG,YAAYC,cAAc,uBAE7BtB,EADAkB,EAASG,YAAYtB,iBAAiB,uBAAuBwB,SAE3EJ,EAAaD,EAASG,YAAYC,cAAc,qBACzCjB,MAAMmB,UAAYxB,EAAaoB,EAAUK,aAAe,KACnEN,EAAWd,MAAMqB,UAAY,UAE7BR,EAASG,YAAYC,cAAc,iBAAiBjB,MAAMsB,IAAMP,EAAUK,aAAe,MAIjG/B,WAAWQ,UAAUY,aAAe,WAChC,IACSX,EADLH,EAAaJ,KAAKI,WACtB,IAASG,KAAaP,KAAKC,UACnBD,KAAKC,UAAUO,eAAeD,IACjBP,KAAKC,UAAUM,GAAWkB,YAAYC,cAAc,UAC1DM,iBAAiB,QAAU,SAASC,GACvCA,EAAMC,kBACND,EAAME,OAAOC,QAAQ,aAAaC,UAAUC,OAAO,UACnDxC,WAAWQ,UAAUe,aAAajB,EAAY6B,EAAME,WAMpErC,WAAWQ,UAAUa,aAAe,WAAW,IAClCZ,EADkCgC,EAAAvC,KAC3C,IAASO,KAAaP,KAAKC,UACnBD,KAAKC,UAAUO,eAAeD,IAAY,WAC1C,IAGSiC,EAHL3B,EAAS0B,EAAKtC,UAAUM,GAAWkB,YAAYC,cAAc,UAC7Dd,EAAS2B,EAAKtC,UAAUM,GAAWkB,YAAYtB,iBAAiB,uBAChEsC,EAAUF,EAAKtC,UAAUM,GAC7B,IAASiC,KAAO5B,GAJ0B,SAIjC4B,GACD5B,EAAOJ,eAAegC,IACtB5B,EAAO4B,GAAKR,iBAAiB,QAAU,SAASC,GAC5CA,EAAMC,kBACFQ,EAAK9B,EAAO4B,GAAKG,aAAa,WAClC9B,EAAOE,UAAYH,EAAO4B,GAAKzB,UAC/B0B,EAAQzB,MAAQ0B,EAChBD,EAAQhB,YAAYY,UAAUO,OAAO,YAPzBC,CAAfL,GAJiC,IAmBtD1C,WAAWQ,UAAUc,YAAc,WAC/B,IACSb,EADLuC,EAAQ5C,SAASwB,cAAc,QACnC,IAASnB,KAAaP,KAAKC,UACnBD,KAAKC,UAAUO,eAAeD,IAC9BuC,EAAMd,iBAAiB,QAAU,SAASC,GACtC,IACSc,EADLC,EAAWf,EAAME,OAAOhC,iBAAiB,aAC7C,IAAS4C,KAAKC,EACNA,EAASxC,eAAeuC,IACxBC,EAASD,GAAGV,UAAUO,OAAO","file":"script.min.js","sourcesContent":["const FormStyler = function(options) {\n    this.selectors = document.querySelectorAll(options.selectors);\n    this.countItems = options.countItems;\n    this.init();\n}\n\nFormStyler.prototype.init = function() {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            this.selectors[$selector].style.display = 'none';\n            let $lists = '';\n            let $title = '';\n            let $options = this.selectors[$selector].querySelectorAll('option');\n            for (let $option in $options) {\n                if ($options.hasOwnProperty($option)) {\n                    if ($option === '0') {\n                        $title = $options[$option].innerText;\n                    }\n                    $lists += '<li data-id=\"' + $options[$option].value + '\">' + $options[$option].innerText + '</li>';\n                }\n            }\n            this.selectors[$selector].insertAdjacentHTML('afterend', '<div class=\"swf-list\">' +\n                '<div class=\"title\">' + $title + '</div>' +\n                '<div class=\"list-wrapper\">' +\n                '<ul>' + $lists + '</ul>' +\n                '</div>' +\n                '</div>');\n        }\n    }\n    this.clickOnTitle();\n    this.selectOption();\n    this.closeOnBody();\n}\n\nFormStyler.prototype.changeHeight = function(countItems, $element) {\n    let $listItem = $element.nextSibling.querySelector('.list-wrapper ul li');\n    let listItemsCounts = $element.nextSibling.querySelectorAll('.list-wrapper ul li').length;\n    if (listItemsCounts > countItems) {\n        let $newSelect = $element.nextSibling.querySelector('.list-wrapper ul');\n        $newSelect.style.maxHeight = countItems * $listItem.offsetHeight + 'px';\n        $newSelect.style.overflowY = 'scroll';\n    } else {\n        $element.nextSibling.querySelector('.list-wrapper').style.top = $listItem.offsetHeight + 'px';\n    }\n}\n\nFormStyler.prototype.clickOnTitle = function() {\n    let countItems = this.countItems;\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n            $title.addEventListener('click',  function(event) {\n                event.stopPropagation();\n                event.target.closest('.swf-list').classList.toggle('opened');\n                FormStyler.prototype.changeHeight(countItems, event.target);\n            });\n        }\n    }\n}\n\nFormStyler.prototype.selectOption = function() {\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n            let $lists = this.selectors[$selector].nextSibling.querySelectorAll('.list-wrapper ul li');\n            let $select = this.selectors[$selector];\n            for (let $li in $lists) {\n                if ($lists.hasOwnProperty($li)) {\n                    $lists[$li].addEventListener('click',  function(event) {\n                        event.stopPropagation();\n                        let id = $lists[$li].getAttribute('data-id');\n                        $title.innerText = $lists[$li].innerText;\n                        $select.value = id;\n                        $select.nextSibling.classList.remove('opened');\n                    });\n                }\n            }\n        }\n    }\n}\n\nFormStyler.prototype.closeOnBody = function() {\n    let $body = document.querySelector('body');\n    for (let $selector in this.selectors) {\n        if (this.selectors.hasOwnProperty($selector)) {\n            $body.addEventListener('click',  function(event) {\n                let $selects = event.target.querySelectorAll('.swf-list');\n                for (let i in $selects) {\n                    if ($selects.hasOwnProperty(i)) {\n                        $selects[i].classList.remove('opened');\n                    }\n                }\n            });\n        }\n    }\n}\n"]}