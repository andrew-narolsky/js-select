{"version":3,"sources":["script.js"],"names":["FormStyler","options","_this","this","selectors","document","querySelectorAll","countItems","init","$selector","hasOwnProperty","style","display","$option","$lists","$title","$options","innerText","value","insertAdjacentHTML","clickOnTitle","selectOption","closeOnBody","changeHeight","$listItem","$newSelect","nextSibling","querySelector","length","maxHeight","offsetHeight","overflowY","top","_this2","addEventListener","event","stopPropagation","classList","toggle","_loop","_this3","$li","$select","id","getAttribute","remove","_loop2","_this4","$body","_loop3"],"mappings":"aAAA,IAAMA,WAAa,SAASC,GAAS,IAAAC,EAAAC,KACjCA,KAAKC,UAAYC,SAASC,iBAAiBL,EAAQG,WACnDD,KAAKI,WAAaN,EAAQM,WAE1BJ,KAAKK,KAAO,WACR,IAAK,IAAIC,KAAaP,EAAKE,UACvB,GAAIF,EAAKE,UAAUM,eAAeD,GAAY,CAC1CP,EAAKE,UAAUK,GAAWE,MAAMC,QAAU,OAC1C,IAGSC,EAHLC,EAAS,GACTC,EAAS,GACTC,EAAWd,EAAKE,UAAUK,GAAWH,iBAAiB,UAC1D,IAASO,KAAWG,EACZA,EAASN,eAAeG,KACR,MAAZA,IACAE,EAASC,EAASH,GAASI,WAE/BH,GAAU,gBAAkBE,EAASH,GAASK,MAAQ,KAAOF,EAASH,GAASI,UAAY,SAGnGf,EAAKE,UAAUK,GAAWU,mBAAmB,WAAY,4CAC7BJ,EAAS,uCAEhBD,EAAS,qBAKtCZ,EAAKkB,eACLlB,EAAKmB,eACLnB,EAAKoB,eAGTnB,KAAKoB,aAAe,SAAChB,GACjB,IAAK,IAAIE,KAAaP,EAAKE,UAAW,CAClC,IACQoB,EAGIC,EAJRvB,EAAKE,UAAUM,eAAeD,KAC1Be,EAAYtB,EAAKE,UAAUK,GAAWiB,YAAYC,cAAc,uBAE9CpB,EADAL,EAAKE,UAAUK,GAAWiB,YAAYpB,iBAAiB,uBAAuBsB,UAE5FH,EAAavB,EAAKE,UAAUK,GAAWiB,YAAYC,cAAc,qBAC1DhB,MAAMkB,UAAYtB,EAAaiB,EAAUM,aAAe,KACnEL,EAAWd,MAAMoB,UAAY,UAEjC7B,EAAKE,UAAUK,GAAWiB,YAAYC,cAAc,iBAAiBhB,MAAMqB,IAAMR,EAAUM,aAAe,QAKtH3B,KAAKiB,aAAe,WAAY,IACnBX,EADmBwB,EAAA9B,KAC5B,IAASM,KAAaN,KAAKC,WADC,SACnBK,GACDwB,EAAK7B,UAAUM,eAAeD,IACjBwB,EAAK7B,UAAUK,GAAWiB,YAAYC,cAAc,UAC1DO,iBAAiB,QAAU,SAACC,GAC/BA,EAAMC,kBACNH,EAAK7B,UAAUK,GAAWiB,YAAYW,UAAUC,OAAO,UACvDL,EAAKV,aAAaU,EAAK1B,cANGgC,CAA7B9B,IAYbN,KAAKkB,aAAe,WAAY,IACnBZ,EADmB+B,EAAArC,KAC5B,IAASM,KAAaN,KAAKC,UACnBD,KAAKC,UAAUM,eAAeD,IAAY,WAC1C,IAGSgC,EAHL1B,EAASyB,EAAKpC,UAAUK,GAAWiB,YAAYC,cAAc,UAC7Db,EAAS0B,EAAKpC,UAAUK,GAAWiB,YAAYpB,iBAAiB,uBAChEoC,EAAUF,EAAKpC,UAAUK,GAC7B,IAASgC,KAAO3B,GAJ0B,SAIjC2B,GACD3B,EAAOJ,eAAe+B,IACtB3B,EAAO2B,GAAKP,iBAAiB,QAAU,SAAUC,GAC7CA,EAAMC,kBACFO,EAAK7B,EAAO2B,GAAKG,aAAa,WAClC7B,EAAOE,UAAYH,EAAO2B,GAAKxB,UAC/ByB,EAAQxB,MAAQyB,EAChBD,EAAQhB,YAAYW,UAAUQ,OAAO,YAPzBC,CAAfL,GAJiC,IAmBtDtC,KAAKmB,YAAc,WAAY,IAElBb,EAFkBsC,EAAA5C,KACvB6C,EAAQ3C,SAASsB,cAAc,QACnC,IAASlB,KAAaN,KAAKC,WAFA,SAElBK,GACDsC,EAAK3C,UAAUM,eAAeD,IAC9BuC,EAAMd,iBAAiB,QAAU,WAC7Ba,EAAK3C,UAAUK,GAAWiB,YAAYW,UAAUQ,OAAO,YAH7BI,CAA7BxC","file":"script.min.js","sourcesContent":["const FormStyler = function(options) {\n    this.selectors = document.querySelectorAll(options.selectors);\n    this.countItems = options.countItems;\n\n    this.init = () => {\n        for (let $selector in this.selectors) {\n            if (this.selectors.hasOwnProperty($selector)) {\n                this.selectors[$selector].style.display = 'none';\n                let $lists = '';\n                let $title = '';\n                let $options = this.selectors[$selector].querySelectorAll('option');\n                for (let $option in $options) {\n                    if ($options.hasOwnProperty($option)) {\n                        if ($option === '0') {\n                            $title = $options[$option].innerText;\n                        }\n                        $lists += '<li data-id=\"' + $options[$option].value + '\">' + $options[$option].innerText + '</li>';\n                    }\n                }\n                this.selectors[$selector].insertAdjacentHTML('afterend', '<div class=\"swf-list\">' +\n                    '<div class=\"title\">' + $title + '</div>' +\n                        '<div class=\"list-wrapper\">' +\n                            '<ul>' + $lists + '</ul>' +\n                        '</div>' +\n                    '</div>');\n            }\n        }\n        this.clickOnTitle();\n        this.selectOption();\n        this.closeOnBody();\n    }\n\n    this.changeHeight = (countItems) => {\n        for (let $selector in this.selectors) {\n            if (this.selectors.hasOwnProperty($selector)) {\n                let $listItem = this.selectors[$selector].nextSibling.querySelector('.list-wrapper ul li');\n                let listItemsCounts = this.selectors[$selector].nextSibling.querySelectorAll('.list-wrapper ul li').length;\n                if (listItemsCounts > countItems) {\n                    let $newSelect = this.selectors[$selector].nextSibling.querySelector('.list-wrapper ul');\n                    $newSelect.style.maxHeight = countItems * $listItem.offsetHeight + 'px';\n                    $newSelect.style.overflowY = 'scroll';\n                }\n                this.selectors[$selector].nextSibling.querySelector('.list-wrapper').style.top = $listItem.offsetHeight + 'px';\n            }\n        }\n    }\n\n    this.clickOnTitle = function () {\n        for (let $selector in this.selectors) {\n            if (this.selectors.hasOwnProperty($selector)) {\n                let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n                $title.addEventListener('click',  (event) => {\n                    event.stopPropagation();\n                    this.selectors[$selector].nextSibling.classList.toggle('opened');\n                    this.changeHeight(this.countItems);\n                });\n            }\n        }\n    }\n\n    this.selectOption = function () {\n        for (let $selector in this.selectors) {\n            if (this.selectors.hasOwnProperty($selector)) {\n                let $title = this.selectors[$selector].nextSibling.querySelector('.title');\n                let $lists = this.selectors[$selector].nextSibling.querySelectorAll('.list-wrapper ul li');\n                let $select = this.selectors[$selector];\n                for (let $li in $lists) {\n                    if ($lists.hasOwnProperty($li)) {\n                        $lists[$li].addEventListener('click',  function (event) {\n                            event.stopPropagation();\n                            let id = $lists[$li].getAttribute('data-id');\n                            $title.innerText = $lists[$li].innerText;\n                            $select.value = id;\n                            $select.nextSibling.classList.remove('opened');\n                        });\n                    }\n                }\n            }\n        }\n    }\n\n    this.closeOnBody = function () {\n        let $body = document.querySelector('body');\n        for (let $selector in this.selectors) {\n            if (this.selectors.hasOwnProperty($selector)) {\n                $body.addEventListener('click',  () => {\n                    this.selectors[$selector].nextSibling.classList.remove('opened');\n                });\n            }\n        }\n    }\n}\n"]}